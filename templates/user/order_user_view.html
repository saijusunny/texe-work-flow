{% extends "user/base.html" %}

{% block title %} orders {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
<style>

    #footer{
          margin-top: 1rem;
          color: white;
        }
    section{
        margin-top: 2rem;
    }
    svg{
        top:30px
    }
    
    @media screen and (max-width: 960px) {  
    svg{
        top:-13rem
    }
    }
    
    /* vars */
    :root {
      --back: #eeeeee;
        --blue: #0082d2;
        --green: #33DDAA;
      --gray: #777777;
      --size: 200px;  
    }
    
    
    .tracking-wrapper {
        margin: 30px;
      padding: 0;
    }
    .tracking * {
        padding: 0;
        margin: 0;
    }
    .tracking {
        width: var(--size);
        max-width: 100%;
        position: relative;
    }
    .tracking .empty-bar {
        background: #ddd;
        position: absolute;
        width: 90%;
        height: 20%;
        top: 40%;
        margin-left: 5%;
    }
    .tracking .color-bar {
        background: var(--blue);
        position: absolute;
        height: 20%;
        top: 40%;
        margin-left: 5%;
        transition: all 0.5s;
        -webkit-transition: all 0.5s;
        -moz-transition: all 0.5s;
        -ms-transition: all 0.5s;
        -o-transition: all 0.5s;
    }
    .tracking ul {
        display: flex;
        justify-content: space-between;
        list-style: none;
    }
    .tracking ul > li {
        background: #ddd;
        text-align: center;
      border-radius: 50%;
        -webkit-border-radius: 50%;
        -moz-border-radius: 50%;
        -ms-border-radius: 50%;
        -o-border-radius: 50%;
        z-index: 1;
        background-size: 70%;
        background-repeat: no-repeat;
        background-position: center center;
        transition: all 0.5s;
        -webkit-transition: all 0.5s;
        -moz-transition: all 0.5s;
        -ms-transition: all 0.5s;
        -o-transition: all 0.5s;
        display: inline-block;
        position: relative;
        width: 10%;
    }
    .tracking ul > li .el {
        position: relative;
      margin-top: 100%;
    }
    .tracking ul > li .el i {
      position: absolute;
      bottom: 100%;
      left: 8%;
      margin-bottom: 12%;
      color: #fff;
      font-size: 100%;
      display: none;
    }
    .tracking ul > li .txt {
      color: #999;
        position: absolute;
        top: 120%;
        left: -75%;
        text-align: center;
        width: 250%;
        font-size: .75rem;
    }
    .tracking .progress-0 .color-bar { width: 00%; }
    .tracking .progress-1 .color-bar { width: 15%; }
    .tracking .progress-2 .color-bar { width: 30%; }
    .tracking .progress-3 .color-bar { width: 45%; }
    .tracking .progress-4 .color-bar { width: 60%; }
    .tracking .progress-5 .color-bar { width: 75%; }
    .tracking .progress-6 .color-bar { width: 90%; }
    .tracking .progress-7 .color-bar { width: 90%; }
    
    .tracking .progress-0 > ul > li.bullet-1,
    .tracking .progress-1 > ul > li.bullet-1,
    .tracking .progress-2 > ul > li.bullet-1,
    .tracking .progress-3 > ul > li.bullet-1,
    .tracking .progress-4 > ul > li.bullet-1,
    .tracking .progress-5 > ul > li.bullet-1,
    .tracking .progress-6 > ul > li.bullet-1,
    .tracking .progress-7 > ul > li.bullet-1
    { background-color: var(--blue); }
    
    .tracking .progress-2 > ul > li.bullet-2,
    .tracking .progress-3 > ul > li.bullet-2,
    .tracking .progress-4 > ul > li.bullet-2,
    .tracking .progress-5 > ul > li.bullet-2,
    .tracking .progress-6 > ul > li.bullet-2,
    .tracking .progress-7 > ul > li.bullet-2
    { background-color: var(--blue); }
    
    .tracking .progress-4 > ul > li.bullet-3,
    .tracking .progress-5 > ul > li.bullet-3,
    .tracking .progress-6 > ul > li.bullet-3,
    .tracking .progress-7 > ul > li.bullet-3
    { background-color: var(--blue); }
    
    .tracking .progress-6 > ul > li.bullet-4,
    .tracking .progress-7 > ul > li.bullet-4
    { background-color: var(--blue); }
    
    .tracking .progress-7 > ul > li.bullet-4
    { background-color: var(--green); }
    
    .tracking .progress-1 > ul > li.bullet-1 .el i,
    .tracking .progress-2 > ul > li.bullet-1 .el i,
    .tracking .progress-3 > ul > li.bullet-1 .el i,
    .tracking .progress-4 > ul > li.bullet-1 .el i,
    .tracking .progress-5 > ul > li.bullet-1 .el i,
    .tracking .progress-6 > ul > li.bullet-1 .el i,
    .tracking .progress-7 > ul > li.bullet-1 .el i
    { display: block; }
    
    .tracking .progress-3 > ul > li.bullet-2 .el i,
    .tracking .progress-4 > ul > li.bullet-2 .el i,
    .tracking .progress-5 > ul > li.bullet-2 .el i,
    .tracking .progress-6 > ul > li.bullet-2 .el i,
    .tracking .progress-7 > ul > li.bullet-2 .el i
    { display: block; }
    
    .tracking .progress-5 > ul > li.bullet-3 .el i,
    .tracking .progress-6 > ul > li.bullet-3 .el i,
    .tracking .progress-7 > ul > li.bullet-3 .el i
    { display: block; }
    
    .tracking .progress-7 > ul > li.bullet-4 .el i
    { display: block; }
    
    .tracking .progress-1 > ul > li.bullet-1 .txt,
    .tracking .progress-2 > ul > li.bullet-1 .txt,
    .tracking .progress-3 > ul > li.bullet-1 .txt,
    .tracking .progress-4 > ul > li.bullet-1 .txt,
    .tracking .progress-5 > ul > li.bullet-1 .txt,
    .tracking .progress-6 > ul > li.bullet-1 .txt,
    .tracking .progress-7 > ul > li.bullet-1 .txt
    { color: var(--blue); }
    
    .tracking .progress-3 > ul > li.bullet-2 .txt,
    .tracking .progress-4 > ul > li.bullet-2 .txt,
    .tracking .progress-5 > ul > li.bullet-2 .txt,
    .tracking .progress-6 > ul > li.bullet-2 .txt,
    .tracking .progress-7 > ul > li.bullet-2 .txt
    { color: var(--blue); }
    
    .tracking .progress-5 > ul > li.bullet-3 .txt,
    .tracking .progress-6 > ul > li.bullet-3 .txt,
    .tracking .progress-7 > ul > li.bullet-3 .txt
    { color: var(--blue); }
    
    .tracking .progress-7 > ul > li.bullet-4 .txt
    { color: var(--blue); }
    
    /* demo */
    .controls {
      margin: 90px 30px 30px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
    }
    .controls > div {
      display: flex;
      justify-content: flex-start;
      align-items: space-between;
      margin: 0;
      padding: 0;
    }
    .controls p,
    .controls button {
      border: 0;
      line-height: 20px;
      padding: 15px;
      font-size: 0.8rem;
      text-transform: uppercase;
    }
    .controls button {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 0 6px;
      background: var(--blue);
      color: #fff;
      border-radius: 50px;
      transition: all .3s;
    }
    .controls button:nth-child(1) {
      margin-left: 0;
    }
    .controls button i {
      font-size: 1rem;
      margin: 0 5px;
    }
    .controls button#prev { padding-right: 30px; }
    .controls button#next { padding-left: 30px; }
    
    .controls button:hover,
    .controls button:focus {
      outline: none;
      background-color: var(--green);
    }
    
    #navs{
      margin-left: 100px;
    }
    @media (max-width:992px) {
          #navs{
          margin-left: 0;
        }
        }
    
    </style>
    <div class="content">
        <div class="row">
            <div class="col-12">
                <div class="card card-chart">
                    <div class="card-header ">
                        <div class="row">
                            <div class="col-sm-12   text-left">
                                <h5 class="card-category"></h5>
                                <h2 class="card-title" id="card-title">Orders</h2>
                            </div>
                        </div>
                        
                    </div>
                    <div class="card-body">
                        
                        <section style="">
                            <div class="container ">
                             
                              {% for ord in ords %}
                              {%for i in ords_itm%}
                              {% if ord.id == i.orders_id%}
                              <div class="row justify-content-center mb-3">
                                <div class="col-md-12 col-xl-10">
                                   
                                  <div class="card shadow-0 border rounded-3">
                                    <div class="card-body">
                                      <div class="row">
                                        <div class="col-md-12 col-lg-2 col-xl-2 mb-4 mb-lg-0">
                                          <div class="bg-image hover-zoom ripple rounded ripple-surface" >
                                            {% if i.cart.color %}
                                       
                                            <img src="http://127.0.0.1:7000{{i.cart.sub_color.color.url}}" class="w-100" id="main_img"/>
                                            {%else%}
                                                
                                              {% if i.cart.model %}
                                         
                                              <img src="http://127.0.0.1:7000{{i.cart.model.image.url}}" class="w-100" id="main_img"/>
                                              {%else%}
                                          
                                              <img src="http://127.0.0.1:7000{{i.item.image.url}}" class="w-100"/>
                                              {%endif%}
                                            {%endif%}
                                            
                                            
                  
                                            <a href="#!">
                                              <div class="hover-overlay">
                                                <div class="mask" style="background-color: rgba(253, 253, 253, 0.15);"></div>
                                              </div>
                                            </a>
                                          </div>
                                        </div>
                                        <div class="col-md-6 col-lg-6 col-xl-6 mt-4 ">
                                          <h5>{{i.item.name}}</h5>
                                          <div class="d-flex flex-row">
                                          <div class="mt-4">
                                              <p><span>${{i.item.offer_price}}</span><span class="ml-4 text-muted"><strike>${{i.item.price}}</strike></span></p><br>
                                          </div>
                                          
                          
                                          
                                          </div>
                                          <div class="">
                                              <div class="row">
                                                  <div class="col-sm-4">
                                                      <p><span>Size : {{i.cart.size}}</span></p>
                                                  </div>
                                                  
                                                  <div class="col-sm-6 ">
                                                    <p><span class="">Meterial : {{i.cart.meterial}}</span></p>
                                                  </div>
                                              </div>
                                              
                                              
                                          </div>
                                          
                                        </div>
                                        
                                        <div class="col-md-6 col-lg-4 col-xl-4 border-sm-start-none border-start">
                                          <div class="d-flex flex-row align-items-center mb-1">
                          
                                            <div class="row mt-2">
                                              <div class="col-sm-12" style="font-size: 15px;">
                                                  <p>Quantity : {{i.qty}}</p>
                                                  <p>Order Date : {{ord.date}}</p> 
                                                  <p>Total : ₹{{i.item_price}}</p>
                                                  
                          
                                                  <div class="tracking-wrapper" style="margin-bottom: 5rem;">
                                                      <div class="tracking">
                                                        <div id="progress0" class="progress-{{ord.stage_count}}">
                                                          <div class="empty-bar"></div>
                                                          <div class="color-bar"></div>
                                                          <ul>
                                                            <li class="bullet-1">
                                                              <div class="el"><i class='bx bx-check'></i></div>
                                                              <div class="txt">Order Processed</div>
                                                            </li>
                                                            <li class="bullet-2">
                                                              <div class="el"><i class='bx bx-check'></i></div>
                                                              <div class="txt">Order Shipped</div>
                                                            </li>
                                                            <li class="bullet-3">
                                                              <div class="el"><i class='bx bx-check'></i></div>
                                                              <div class="txt">Order En Route</div>
                                                            </li>
                                                            <li class="bullet-4">
                                                              <div class="el"><i class='bx bx-check '></i></div>
                                                              <div class="txt text-danger">Order Arrived-{{ord.delivery_date}}</div>
                                                            </li>
                                                          </ul>
                                                        </div>
                                                      </div>
                                                    </div>
                          
                                                    <div class="row mt-5">
                                                      <div class="col-sm-12" style="text-align: center;">
                                                        <a href="{% url 'cancel_order' ord.id%}" onclick="return confirm('Are you sure, you want to cancel thois order?')"><button class="btn btn-danger" style="background-color: red; color: white;" >Cancel Order</button></a>
                                                      </div>
                                                    </div>
                                                    
                                              </div>
                                            </div>
                                              
                                          </div>
                                          
                                          <div class="d-flex flex-column mt-4">
                                            
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                              {%else%}
                              {%endif%}
                              {% endfor%}
                              {%endfor%}
                              
                              
                            </div>
                          </section>
                        

                    </div>
                </div>
            </div>
        </div>
        
        
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<script>
    function show_compl(){
        document.getElementById('complaint').style.display = 'block';
        document.getElementById('service').style.display = 'none';
        document.getElementById('card-title').innerHTML="Complaint"
        const btnEl = document.getElementById("btncomp").classList.add("active")
        const btnEl2 = document.getElementById("btnser").classList.remove("active");
      
    }
    function show_service(){
        document.getElementById('complaint').style.display = 'none';
        document.getElementById('service').style.display = 'block';
        document.getElementById('card-title').innerHTML="Service"

        const btnEl = document.getElementById("btncomp").classList.remove("active");
        const btnEl2 = document.getElementById("btnser").classList.add("active");
    }
</script>
{% endblock javascripts %}
